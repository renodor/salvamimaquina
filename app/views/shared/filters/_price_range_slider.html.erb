<% if price_range_slider = build_price_range_slider_values %>
  <div class="product-filter">
    <div class="product-filter-content">
      <h6 class="product-filter-title"><%= I18n.t('spree.price') %></h6>
      <div class="price-range-slider" data-controller="price-range-slider">
        <div class="current-values">
          <span>$<%= price_range_slider[:current_min] %></span>
          <span>$<%= price_range_slider[:current_max] %></span>
        </div>
        <div class="slider">
          <input
            value="<%= price_range_slider[:current_min] %>"
            min="<%= price_range_slider[:min] %>"
            max="<%= price_range_slider[:max] %>" 
            tep="1"
            type="range"
            name="products_filters[search[price_between]][]"
            class="first"
            data-action="change->products-filters-form#inputChanged"
          >
          <input
            value="<%= price_range_slider[:current_max] %>"
            min="<%= price_range_slider[:min] %>"
            max="<%= price_range_slider[:max] %>"
            step="1"
            type="range"
            name="products_filters[search[price_between]][]"
            data-action="change->products-filters-form#inputChanged"
          >
        </div>
      </div>
    </div>

    <!-- Used in ProductsController to know if price range slider as been used or not, and thus if we should count it in filter count -->
    <%= hidden_field_tag 'price_filter_min_max[]', price_range_slider[:min] %>
    <%= hidden_field_tag 'price_filter_min_max[]', price_range_slider[:max] %>
  </div>
<% end %>